# 要件定義書（Requirements Specification）
## プロジェクト名：Thinking Process App（仮）
## バージョン：v1.0
## 作成者：yasuhiro

---

# 1. 概要（Overview）

本アプリは、ユーザーの思考プロセスを  
「俯瞰 → 要素抽出 → 流れ構築 → 最小仕様化 → 拡張余地」  
という 5 ステップで構造化し、  
さらに 1〜5 周の改善ループとして記録する Web アプリケーションである。

また、入力されたキーワードを「ノード（カード＋文脈）」として扱い、  
プロジェクト内の思考のつながりを可視化する機能を持つ。

---

# 2. 目的（Purpose）

- 思考プロセスを構造化し、再現性のある形で記録する  
- 1〜5 周の改善ループを通じて、思考の質を高める  
- キーワード（ノード）を文脈付きで保存し、思考のつながりを可視化する  
- マルチデバイス（Android / iOS / PC / Chrome）で利用可能にする  
- 将来的にオフライン対応（PWA）を可能にする

---

# 3. 対象範囲（Scope）

本要件定義書は以下を対象とする：

- Web アプリケーション（初期リリース）  
- バックエンド API  
- フロントエンド UI  
- データモデル  
- ノード構造  
- 思考プロセス（1〜5 周）  
- プロジェクト管理  
- ワードツリー（ノード可視化）

以下は対象外（将来対応）：

- モバイルアプリ（ネイティブ）  
- AI 自動補完  
- オフライン完全対応（PWA）  
- GraphDB（Neo4j）連携  
- チーム共有機能

---

# 4. 利用者（Users）

- 個人ユーザー（思考整理・アイデア出し）  
- 現場改善担当者  
- 企画職・エンジニア  
- 自己学習者  

※ 初期リリースは「個人利用」を前提とする

---

# 5. 機能要件（Functional Requirements）

## 5.1 プロジェクト管理
- プロジェクトの新規作成  
- プロジェクト一覧（ツリー表示）  
- プロジェクトの状態管理（active / pending / completed）  
- プロジェクト削除（論理削除）

---

## 5.2 思考プロセス（1〜5 周）

### 5.2.1 1 周目（初回）
- 5 ステップの入力フォーム  
  - 俯瞰（目的・痛み・制約・成功状態）  
  - 要素抽出  
  - 流れ構築  
  - 最小仕様化  
  - 拡張余地  
- 入力内容を保存  
- ノード（カード＋文脈）の自動生成  
- 1 周目のまとめ画面表示  
- 「2 周目に進む」「ペンディングにする」ボタン

### 5.2.2 2〜5 周目（改善ループ）
- 周カウンター（例：2/5）  
- 「なんか思いついた？」入力欄  
- 修正点の入力  
- 前周の内容を読み込み  
- ノードの追加・更新  
- 周のまとめ画面  
- 「次の周へ」「ペンディングにする」

### 5.2.3 5 周目終了
- 完成画面  
- プロジェクト状態を completed に変更  
- ノードツリーの最終生成

---

## 5.3 ノード（カード＋文脈）

### 5.3.1 ノード生成
- 入力テキストからキーワード抽出  
- 文脈（周辺語）を保存  
- プロジェクト・周・ステップと紐づける

### 5.3.2 ノード編集
- タイトル編集  
- 文脈編集  
- 削除（論理削除）

### 5.3.3 ノードリンク
- ノード間のつながりを保存  
- 重み（0.1〜1.0）は後で利用  
- 自動リンク（同一キーワード）  
- 手動リンク（ユーザー操作）

---

## 5.4 ワードツリー（ノード可視化）
- ノードをカードとして表示  
- ノード間リンクを線で表示  
- プロジェクト単位で表示  
- ノードクリックで詳細表示  
- ズームイン・ズームアウト

---

# 6. 非機能要件（Non-Functional Requirements）

## 6.1 パフォーマンス
- 通常操作で 1 秒以内の応答  
- ノード数 500 程度まで快適に動作

## 6.2 セキュリティ
- HTTPS  
- JWT または Token 認証  
- CSRF 対策（Django 標準）  
- CORS 設定

## 6.3 可用性
- 24/7 稼働を想定  
- Docker による環境統一

## 6.4 拡張性
- PWA 対応を後から追加可能  
- GraphDB 連携を後から追加可能  
- モバイルアプリ化を想定した API 設計

---

# 7. 技術要件（Technical Requirements）

## 7.1 バックエンド
- Python  
- Django  
- Django REST Framework  

## 7.2 フロントエンド
- Svelte（推奨）  
- または React

## 7.3 データベース
- PostgreSQL

## 7.4 インフラ
- Docker  
- Nginx  
- GitHub / GitLab（ソース管理）

---

# 8. データモデル（概要）

### Project  
- id  
- title  
- status  
- createdAt  
- updatedAt  

### Round  
- id  
- projectId  
- roundNumber  
- note  
- createdAt  

### ProcessStep  
- id  
- projectId  
- roundId  
- stepType  
- content  
- createdAt  

### Node  
- id  
- projectId  
- roundId  
- stepId  
- title  
- context  
- createdAt  

### NodeLink  
- id  
- fromNodeId  
- toNodeId  
- weight  

---

# 9. 画面一覧（Screen List）

1. ホーム（プロジェクト一覧）  
2. プロジェクト作成  
3. 思考プロセス（1〜5 周）  
4. 周まとめ画面  
5. 完成画面  
6. ノードツリー画面  
7. ノード詳細画面  

---

# 10. 今後の拡張（Future Enhancements）

- PWA によるオフライン対応  
- AI によるキーワード補完  
- GraphDB（Neo4j）によるノード可視化強化  
- モバイルアプリ化  
- チーム共有機能  
- PDF / Markdown 出力  

---

# 11. 備考
本要件定義書は初期バージョンであり、  
詳細設計・API 仕様・画面仕様は別途作成する。